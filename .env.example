# Environment Configuration for IoTDevSim
# Copy this file to .env and update the values for your environment

# Application Environment
ENVIRONMENT=development

# Database Configuration
POSTGRES_DB=iot_devsim
POSTGRES_USER=iot_user
POSTGRES_PASSWORD=iot_password_change_in_production
POSTGRES_PORT=5432

# Redis Configuration
# URL para conexión de la aplicación (requerido)
REDIS_URL=redis://redis:6379/0
# Puerto para mapeo Docker (opcional)
REDIS_PORT=6379

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:5174,http://127.0.0.1:5173,http://127.0.0.1:5174

# API Service Configuration
API_PORT=8000
JWT_SECRET_KEY=your-super-secret-jwt-key-change-in-production-min-32-chars
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
FRONTEND_BASE_URL=http://localhost:5173

# SMTP Configuration (welcome and password reset emails)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=
SMTP_USE_TLS=true
SMTP_USE_SSL=false
SMTP_TIMEOUT_SECONDS=15
SMTP_MAX_RETRIES=2

# Phase 2-ready auth strategy (local only active)
AUTH_ACTIVE_ISSUER=local
AUTH_LOCAL_ISSUER=iotdevsim-local
AUTH_TRUSTED_ISSUERS=iotdevsim-local
KEYCLOAK_ISSUER=

# Frontend federated auth placeholders (disabled by default)
VITE_ENABLE_FEDERATED_AUTH=false
VITE_FEDERATED_AUTH_PROVIDER=Keycloak

# Transmission Service Configuration
TRANSMISSION_PORT=8001
TRANSMISSION_BATCH_SIZE=100
TRANSMISSION_INTERVAL_MS=1000

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json

# Security Configuration
BCRYPT_ROUNDS=12
RATE_LIMIT_PER_MINUTE=60

# Performance Configuration
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Storage Backend Configuration (local or s3)
# Use 'local' for filesystem storage (default)
# Use 's3' for S3-compatible object storage (MinIO, AWS S3)
STORAGE_BACKEND=local

# Path de almacenamiento local
DATASETS_BASE_PATH=/app/uploads

# S3/MinIO Configuration (only used when STORAGE_BACKEND=s3)
S3_ENDPOINT_URL=http://minio:9000
S3_BUCKET=iot-devsim-datasets
S3_ACCESS_KEY=minio_user
S3_SECRET_KEY=minio_password_change_in_production
S3_REGION=us-east-1
